##############################################################################
# rabbitmq.conf  –  INI format for RabbitMQ ≥ 3.13
##############################################################################

# ─── Logging ────────────────────────────────────────────────────────────────
log.console.level = info

# ─── Allow the built-in “guest” user from any host ─────────────────────────
loopback_users.guest = false

# ─── TLS listener on port 5671 (AMQPS) ─────────────────────────────────────
listeners.ssl.default           = 5671
ssl_options.cacertfile           = /etc/rabbitmq/certs/ca_certificate.pem
ssl_options.certfile             = /etc/rabbitmq/certs/server_certificate.pem
ssl_options.keyfile              = /etc/rabbitmq/certs/server_key.pem
ssl_options.verify               = verify_peer
ssl_options.fail_if_no_peer_cert = true

# ─── Plain AMQP (optional) ─────────────────────────────────────────────────
listeners.tcp.default = 5672

# ─── Management UI & preload definitions ───────────────────────────────────
management.load_definitions = /etc/rabbitmq/definitions.json
